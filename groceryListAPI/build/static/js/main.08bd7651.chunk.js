(this["webpackJsonpgrocery-list-app"]=this["webpackJsonpgrocery-list-app"]||[]).push([[0],{25:function(e,t,a){e.exports=a(45)},30:function(e,t,a){},31:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),s=a.n(l),i=(a(30),a(15)),o=a(3),c=a(4),u=a(6),m=a(5),d=a(7),h=(a(31),a(1)),p=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={aisles:null,items:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.aisles,a=e.onAisleSelected,n=e.aislesColors;return console.log("aislesColors",n),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"aisles"},r.a.createElement("h2",null,"Aisles"),r.a.createElement(h.c,{to:"/add/aisle"},"Add Aisle")," | ",r.a.createElement(h.c,{to:"/deleteAisle"},"Delete Aisle"),r.a.createElement("div",{className:"flex-container",id:"aisleDisplay"},n&&t.map((function(e){return r.a.createElement("div",{className:"aisleDiv",key:e.id,id:e.id,onClick:function(){return a(e)}},r.a.createElement(h.b,{style:{color:n[e.id],textDecoration:"none"},className:"link",to:"/items/".concat(e.id)},e.name))})))))}}]),t}(n.Component),f=(a(37),a(38),a(39),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).arrayUnique=function(e){return e.filter((function(t,a){return e.indexOf(t)>=a}))},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.items,a=e.aisle,n=a?r.a.createElement("h2",null,a.name," List"):r.a.createElement("h2",null,"List"),l=t.filter((function(e){return e.aisle_num===a})),s=this.arrayUnique(l),i=s?s.map((function(e){return e.count>1?r.a.createElement("li",{key:e.id,id:e.id},e.count," ",e.name,"  "):r.a.createElement("li",{key:e.id,id:e.id},e.name," ")})):null;return r.a.createElement("div",{id:"list"},n,r.a.createElement(h.c,{to:"/wholeList"},"Full List"),r.a.createElement("ul",null,i))}}]),t}(n.Component)),v=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={selectedItems:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/food/aisles/".concat(this.props.match.params.aisle)).then((function(e){if(!e.ok)throw new Error("Failed to load");return e.json()})).then((function(t){e.setState({aisleId:t[0].id,aisleName:t[0].name})})).catch((function(t){console.error(t),e.setState({error:t.message?t.message:"Failed to load"})}))}},{key:"render",value:function(){var e,t=this,a=this.props.items;console.log("aisle",this.state.aisleId),e=this.state.aisleId&&a?a.filter((function(e){return e.aisle_num===t.state.aisleId})):null;var n=this.state.aisleId?r.a.createElement(h.c,{to:"/deleteItem/".concat(this.state.aisleId)},"Delete Item"):null;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"itemDisplay"},r.a.createElement("h2",null,"Items"),r.a.createElement(h.c,{to:"/"},"Back to Aisles")," | ",r.a.createElement(h.c,{to:"/add/item/".concat(this.state.aisleId)},"Add Item")," | ",n,r.a.createElement("div",{className:"flex-container"},e&&e.map((function(e){return r.a.createElement("div",{key:e.id,id:e.id,className:"item",onClick:function(){return t.props.onItemSelected(e)}},e.name)})))),this.state.aisleId&&r.a.createElement(f,{aisle:this.state.aisleId,items:this.props.selectedItems}))}}]),t}(n.Component),E=a(10),b=a.n(E),y=a(13),g=(a(41),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={itemName:" ",aisleName:" "},a.handleNameInput=function(e){a.setState({itemName:e.target.value}),console.log("itemName",a.state.itemName)},a.handleAisleInput=function(e){a.setState({aisleName:e.target.value})},a.handleAddItemButton=function(){var e=Object(y.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a.state.itemName,+a.props.match.params.aisle),t.preventDefault(),e.prev=2,e.next=5,fetch("/food/items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.state.itemName,aisle:+a.props.match.params.aisle})});case 5:if((n=e.sent).ok){e.next=10;break}return e.abrupt("return",console.error(n.statusText));case 10:return e.next=12,n.json();case 12:r=e.sent,console.log(r),a.props.onAddItem(r);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}(),a.handleAddAisleButton=function(){var e=Object(y.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("/food/aisles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({aisle:a.state.aisleName})});case 4:if((n=e.sent).ok){e.next=9;break}return e.abrupt("return",console.error(n.statusText));case 9:return e.next=11,n.json();case 11:r=e.sent,console.log(r),a.props.onAddAisle(r);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;console.log(this.props.aisles),console.log("matchAisle",this.props.match.params.aisle);var t=r.a.createElement("div",{id:"addItemDiv"},"Item Name:",r.a.createElement("input",{type:"text",value:this.state.itemName,name:"ItemInput",onChange:function(t){return e.handleNameInput(t)}}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(t){return e.handleAddItemButton(t)}}," ",r.a.createElement(h.b,{to:"/items/".concat(this.props.match.params.aisle)},"add"))),a=r.a.createElement("div",{id:"addAisleDiv"},"Aisle Name:",r.a.createElement("input",{type:"text",value:this.state.aisleName,name:"ItemInput",onChange:this.handleAisleInput}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(t){return e.handleAddAisleButton(t)}},r.a.createElement(h.b,{to:"/"},"add")));console.log(this.props.match.params.type);var n="aisle"===this.props.match.params.type?a:t;return r.a.createElement(r.a.Fragment,null,n)}}]),t}(n.Component)),j=(a(42),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={selectedAisle:null},a.handleAisleSelect=function(e){a.setState({selectedAisle:e.target.value}),console.log("selectedAisle",a.state.selectedAisle)},a.handleDeleteAisleButton=function(){var e=Object(y.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("/food/aisles",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({aisle:a.state.selectedAisle})});case 4:if((n=e.sent).ok){e.next=9;break}return e.abrupt("return",console.error(n.statusText));case 9:a.props.onDeleteAisle(a.state.selectedAisle);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;console.log(this.props.aisles);var t=r.a.createElement("div",{id:"deleteAisleDiv"},r.a.createElement("select",{id:"itemSelect",name:"items",onChange:function(t){return e.handleAisleSelect(t)}},this.props.aisles&&this.props.aisles.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(t){return e.handleDeleteAisleButton(t)}},r.a.createElement(h.b,{to:"/"},"delete")));return r.a.createElement(r.a.Fragment,null,t)}}]),t}(n.Component)),A=(a(43),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={itemId:null},a.handleItemSelect=function(e){a.setState({itemId:e.target.value})},a.handleDeleteItemButton=function(){var e=Object(y.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a.state.itemName,a.state.aisleNum),t.preventDefault(),e.prev=2,e.next=5,fetch("/food/items/".concat(a.state.itemId),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 5:if((n=e.sent).ok){e.next=10;break}return e.abrupt("return",console.error(n.statusText));case 10:a.props.onDeleteItem(a.state.itemId);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/food/items/".concat(this.props.match.params.aisle)).then((function(e){if(!e.ok)throw new Error("Failed to load");return e.json()})).then((function(t){e.setState({items:t})})).catch((function(t){console.error(t),e.setState({error:t.message?t.message:"Failed to load"})}))}},{key:"render",value:function(){var e=this,t=(this.props.aisles,r.a.createElement("div",{id:"deleteItemDiv"},"Item Name:",r.a.createElement("select",{id:"itemSelect",name:"items",onChange:function(t){return e.handleItemSelect(t)}},this.state.items&&this.state.items.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(t){return e.handleDeleteItemButton(t)}},r.a.createElement(h.b,{to:"/items/".concat(this.props.match.params.aisle)},"delete "))));return r.a.createElement(r.a.Fragment,null,t)}}]),t}(n.Component)),O=a(12),I=(a(44),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).arrayUnique=function(e){return e.filter((function(t,a){return e.indexOf(t)>=a}))},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.selectedItems,n=t.aisles,l=[],s=0;n.forEach((function(e){l[s++]={aisle:e.name,items:a.filter((function(t){return t.aisle_num===e.id}))}})),console.log("listArray",l);var i=l.map((function(t){return{aisle:t.aisle,items:e.arrayUnique(t.items)}}));console.log(i);var o=i.map((function(e,t){return r.a.createElement("div",{className:"listDiv",key:t},r.a.createElement("h1",null,e.aisle),r.a.createElement("ul",null,e.items.map((function(e,t){return r.a.createElement("li",{key:t},e.count," ",e.name)}))))}));return console.log("thelist",o),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"wholeListDiv"},r.a.createElement(h.c,{to:"/"},"Back to Aisles"),r.a.createElement("div",{className:"flex-container"},o)))}}]),t}(n.Component)),k=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={items:null,aisles:[],selectedItems:[],aislesColors:[]},a.handleAisleSelected=function(e){var t=Object(i.a)(a.state.aislesColors);t[e.id]="blue",console.log("a",t),a.setState({selectedAisle:e,aislesColors:t})},a.handleItemSelected=function(e){console.log("item.count",e.count),e.count?e.count++:e.count=1,a.setState({selectedItems:[].concat(Object(i.a)(a.state.selectedItems),[e])}),console.log("grocerylist",a.state.selectedItems)},a.handleAddAisle=function(e){a.setState({aisles:[].concat(Object(i.a)(a.state.aisles),[e])})},a.handleAddItem=function(e){a.setState({items:[].concat(Object(i.a)(a.state.items),[e])})},a.handleDeleteAisle=function(e){console.log("id",e),a.setState({aisles:a.state.aisles.filter((function(t){return t.id!=e}))})},a.handleDeleteItem=function(e){a.setState({items:a.state.items.filter((function(t){return t.id!=e}))})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/food/aisles").then((function(e){if(!e.ok)throw new Error("Failed to load");return e.json()})).then((function(t){e.setState({aisles:t})})).then((function(t){e.state.aisles.forEach((function(t){var a=Object(i.a)(e.state.aislesColors);a[t.id]="black",console.log("a",a),e.setState({aislesColors:a})}))})).catch((function(t){console.error(t),e.setState({error:t.message?t.message:"Failed to load"})})),fetch("/food/items").then((function(e){if(!e.ok)throw new Error("Failed to load");return e.json()})).then((function(t){e.setState({items:t})})).catch((function(t){console.error(t),e.setState({error:t.message?t.message:"Failed to load"})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.items,n=t.aisles,l=t.selectedItems,s=t.selectedAisle,i=t.aislesColors;return console.log("aislesColors1",i),console.log("aislesColors",i),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{id:"logo"},r.a.createElement("h1",null,"Grocery List App")),r.a.createElement("div",{id:"nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(h.c,{exact:!0,to:"/",style:{color:"green"},activeStyle:{color:"red"}},"Aisles")),r.a.createElement("li",null,r.a.createElement(h.c,{exact:!0,to:"/",style:{color:"green"},activeStyle:{color:"red"}}," Aisle")),r.a.createElement("li",null,r.a.createElement(h.c,{to:"/wholeList",style:{color:"green"},activeStyle:{color:"red"}},"Whole List")),r.a.createElement("li",null,r.a.createElement(h.c,{exact:!0,to:"/",style:{color:"green"},activeStyle:{color:"red"}},"Personal Lists"))))),r.a.createElement("hr",null),r.a.createElement("div",{className:"flex-container"},r.a.createElement(O.c,null,r.a.createElement(O.a,{path:"/",exact:!0,render:function(t){return r.a.createElement(p,Object.assign({},t,{aisles:n,onAisleSelected:e.handleAisleSelected,aislesColors:i}))}}),r.a.createElement(O.a,{path:"/items/:aisle",render:function(t){return r.a.createElement(v,Object.assign({},t,{aisle:s,items:a,selectedItems:l,onItemSelected:e.handleItemSelected}))}}),r.a.createElement(O.a,{path:"/add/:type/:aisle?",render:function(t){return r.a.createElement(g,Object.assign({aisles:n},t,{onAddAisle:e.handleAddAisle,onAddItem:e.handleAddItem}))}}),r.a.createElement(O.a,{path:"/deleteAisle",render:function(t){return r.a.createElement(j,Object.assign({aisles:n,onDeleteAisle:e.handleDeleteAisle},t))}}),r.a.createElement(O.a,{path:"/wholeList",render:function(t){return r.a.createElement(I,Object.assign({},t,{selectedItems:e.state.selectedItems,aisles:e.state.aisles}))}}),r.a.createElement(O.a,{path:"/deleteItem/:aisle",render:function(t){return r.a.createElement(A,Object.assign({aisles:n,items:a,onDeleteItem:e.handleDeleteItem},t))}}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(h.a,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.08bd7651.chunk.js.map